<!-- lista-estudiantes.component.html -->
<div class="container mt-4">
  <h2 class="mb-3">Lista de Estudiantes</h2>

  <!-- Informaci贸n del usuario -->
  <p><strong>Usuario:</strong> {{ auth.obtenerRolUsuario() }}</p>

  <!-- Bot贸n crear estudiante visible solo para ADMIN -->
  <button *ngIf="auth.tieneRol('ADMIN')" routerLink="/crear" class="btn btn-success mb-3">
    <i class="fa fa-plus"></i> Crear Estudiante
  </button>

  <!-- Bot贸n logout -->
  <button (click)="logout()" class="btn btn-danger mb-3 float-end">
    <i class="fa fa-sign-out-alt"></i> Cerrar sesi贸n
  </button>

  <ul class="list-group">
    <li *ngFor="let e of estudiantes" class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        {{ e.nombre }} - {{ e.email }} - {{ e.edad }} - {{ e.telefono }}
      </div>
      <div>
        <!-- Botones ADMIN -->
        <button *ngIf="auth.tieneRol('ADMIN')" class="btn btn-sm btn-primary me-1" [routerLink]="['/editar', e.id]">
          <i class="fa fa-edit"></i> Editar
        </button>
        <button *ngIf="auth.tieneRol('ADMIN')" class="btn btn-sm btn-danger me-1" (click)="eliminarEstudiante(e.id)">
          <i class="fa fa-trash"></i> Eliminar
        </button>
        <!-- Detalle -->
        <button class="btn btn-sm btn-info" [routerLink]="['/detalle', e.id]">
          <i class="fa fa-eye"></i> Ver detalle
        </button>
      </div>
    </li>
  </ul>

  <p *ngIf="errorMensaje" class="text-danger mt-2">{{ errorMensaje }}</p>
</div>
